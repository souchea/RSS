<script type="text/javascript">
    $(document).ready(function() {


        $.ajax({
            url: "@Url.Action("GetCategories")",
            async: true,
            success: function(data) {
                $("#categories").html(data);
                $("#categories > ul > li").each(function() {

                    $(this).click($(this).children('a').children('span.title').text(), getChannels);
                });


            }
        });

    });


    function getChannels(event) {

        console.log(event.data);
        $.ajax({
            url: "@Url.Action("GetChannels","Home", new {category = "event.data"})",
	          async: true,
	          success: function(data) {
	              console.log(data);
                $("#channels").html(data);
                $("#channels > a").each(function() {

                    console.log($(this).children('h4').text());
                    $(this).click($(this).children('h4').text(), getItems);
                });


	          },

	        });
    }

    function getItems(event) {

         console.log(event.data);
        $.ajax({
            url: "@Url.Action("GetItems","Home", new {channel = "event.data"})",
	          async: true,
	          success: function(data) {
                $("#items").html(data);
	          },

	        });

    }


</script>